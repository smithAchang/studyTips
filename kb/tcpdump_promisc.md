# 怪异现象
使用`tcpdump`，我们经常有时会偷懒地使用`-i any`来进行抓包，但是，有时却发现用`-i any`抓不到包，但是，用`-i interface`却可以抓到包，为何呢？

`tcpdump`在对单个网卡进行抓包时，会主动开启`promisc`混杂模式选项，而`-i any`来进行抓包并不会！

如果，您理解`promisc`混杂模式的原意，那么，就很容易理解`-i any`抓包时，`tcpdump`并不会为你主动开启每个网卡的`promisc`混杂模式，因为`-i any`抓包，已相当于某种程度上的混杂模式，来自多个网卡，混有多个MAC！


## 安全考量
在`promisc`混杂模式没有打开的情况下，网卡仅会将自身`MAC`，`全F`的广播`MAC`报文，以及主机已主动侦听的组播广播`MAC`上送到业务层，其它在`MAC`链路层会主动进行过滤掉，避免杂包干扰。

在安全性越来越高的场景，主机受攻击面只会缩小，主动开启混杂模式有其风险的地方

## 组播侦听观察
```bash
# 查询本机已侦听的组播和允许组播的MAC
ip maddr

# 测试组播
ip addr add 224.0.0.10 dev eno1 autojoin
```


